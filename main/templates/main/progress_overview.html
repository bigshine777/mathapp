{% extends '../base.html' %}
{% load static %}

{% block extrahead %}
  <link rel="stylesheet" href="{% static 'css/main/progress_overview.css' %}" />
{% endblock %}

{% block main %}
  <div class="container">
    <h3 class="page-title">こんにちは ! {{ request.user.username }}さん</h3>
    <div class="chart-container">
      <div class="chart-block">
        <p class="chart-title">ステージの進捗</p>
        <canvas id="complete-stage-chart" class="chart"></canvas>
      </div>
      <div class="chart-block">
        <p class="chart-title">問題の進捗</p>
        <canvas id="complete-question-chart" class="chart"></canvas>
      </div>
    </div>
    <div class="links">
      <a href="{% url 'select_stage' %}" class="link">ステージ選択に進む</a>
    </div>
  </div>
{% endblock %}

{% block extra_script %}
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    window.stages_percentage = {{ stages_percentage }}
    window.questions_percentage = {{ questions_percentage }}
  </script>
  <script src="{% static 'js/main/progress_overview.js' %}"></script>
{% endblock %}
